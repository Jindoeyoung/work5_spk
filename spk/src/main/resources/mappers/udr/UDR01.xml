<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spk.api.mapper.udr.UDR01Mapper">

	<!-- 등록금입력 화면조회  -->
    <select id="getRegistAmtList" resultType="com.spk.api.entity.udr.UDR01Entity">
		SELECT 
		    YEAR
		    ,SEMESTER
		    ,DEPT
		    ,GRADE
		    ,DEPTNAME
		    ,ENTR_AMT
		    ,EDU_AMT
		    ,STD_AMT1
		    ,STD_AMT2
		    ,STD_AMT3
		    ,HOUSE_AMT
		    ,FOOD_AMT
		    ,REMARK
		FROM ST_REGIST_AMT
        WHERE YEAR LIKE CONCAT('%', #{ST_REGIST_AMT.year}, '%')
          AND SEMESTER LIKE CONCAT('%', #{ST_REGIST_AMT.semester}, '%')
		ORDER BY YEAR, SEMESTER, DEPT, GRADE
    </select>
    
	<!-- 등록금입력 등록  -->
    <insert id="insertRegistAmt" parameterType="com.spk.api.entity.udr.UDR01Entity">
        INSERT INTO ST_REGIST_AMT 
            (
			year
			,semester
			,dept
			,grade
			,reg_dt
			,reg_id
			,deptname
			,entr_amt
			,edu_amt
			,support_amt
			,std_amt1
			,std_amt2
			,std_amt3
			,house_amt
			,food_amt
			,remark
            ) 
        VALUES 
        	(
            #{ST_REGIST_AMT.year}
            ,#{ST_REGIST_AMT.semester}
            ,#{ST_REGIST_AMT.dept}        	
            ,#{ST_REGIST_AMT.grade}
            ,sysdate()
            ,#{ST_REGIST_AMT.spike_id}
            ,#{ST_REGIST_AMT.deptname}
            ,#{ST_REGIST_AMT.entr_amt}
            ,#{ST_REGIST_AMT.edu_amt}
            ,#{ST_REGIST_AMT.support_amt}
            ,#{ST_REGIST_AMT.std_amt1}
            ,#{ST_REGIST_AMT.std_amt2}
            ,#{ST_REGIST_AMT.std_amt3}
            ,#{ST_REGIST_AMT.house_amt}
            ,#{ST_REGIST_AMT.food_amt}
            ,#{ST_REGIST_AMT.remark}
            ) 
    </insert>    
    
</mapper>
