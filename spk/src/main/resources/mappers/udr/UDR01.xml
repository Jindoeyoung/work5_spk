<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spk.api.mapper.udr.UDR01Mapper">

	<!-- 등록금입력 화면조회  -->
    <select id="getRegistAmtList" resultType="com.spk.api.entity.udr.UDR01Entity">
		SELECT 
		    YEAR
		    ,SEMESTER
		    ,DEPT
		    ,GRADE
		    ,DEPTNAME
		    ,ENTR_AMT
		    ,EDU_AMT
		    ,STD_AMT1
		    ,STD_AMT2
		    ,STD_AMT3
		    ,HOUSE_AMT
		    ,FOOD_AMT
		    ,REMARK
		FROM ST_REGIST_AMT
        WHERE YEAR LIKE CONCAT('%', #{ST_REGIST_AMT.year}, '%')
          AND SEMESTER LIKE CONCAT('%', #{ST_REGIST_AMT.semester}, '%')
		ORDER BY YEAR, SEMESTER, DEPT, GRADE
    </select>
    
	<!-- 등록금입력 등록  -->
    <insert id="insertRegistAmt" parameterType="com.spk.api.entity.udr.UDR01Entity">
        INSERT INTO ST_REGIST_AMT 
            (
			YEAR
			,SEMESTER
			,DEPT
			,GRADE
			,REG_DT
			,REG_ID
			,DEPTNAME
			,ENTR_AMT
			,EDU_AMT
			,SUPPORT_AMT
			,STD_AMT1
			,STD_AMT2
			,STD_AMT3
			,HOUSE_AMT
			,FOOD_AMT
			,REMARK
            ) 
        VALUES 
        	(
            #{ST_REGIST_AMT.year}
            ,#{ST_REGIST_AMT.semester}
            ,#{ST_REGIST_AMT.dept}        	
            ,#{ST_REGIST_AMT.grade}
            ,sysdate()
            ,#{ST_REGIST_AMT.spike_id}
            ,#{ST_REGIST_AMT.deptname}
            ,#{ST_REGIST_AMT.entr_amt}
            ,#{ST_REGIST_AMT.edu_amt}
            ,#{ST_REGIST_AMT.support_amt}
            ,#{ST_REGIST_AMT.std_amt1}
            ,#{ST_REGIST_AMT.std_amt2}
            ,#{ST_REGIST_AMT.std_amt3}
            ,#{ST_REGIST_AMT.house_amt}
            ,#{ST_REGIST_AMT.food_amt}
            ,#{ST_REGIST_AMT.remark}
            ) 
    </insert>    
    
	<!-- 등록금입력 수정  -->
    <update id="updateRegistAmt" parameterType="com.spk.api.entity.udr.UDR01Entity">
        UPDATE ST_REGIST_AMT SET DEPTNAME 	 = #{ST_REGIST_AMT.deptname}
                                ,ENTR_AMT 	 = #{ST_REGIST_AMT.entr_amt}
								,EDU_AMT 	 = #{ST_REGIST_AMT.edu_amt}
								,SUPPORT_AMT = #{ST_REGIST_AMT.support_amt}
								,STD_AMT1 	 = #{ST_REGIST_AMT.std_amt1}
								,STD_AMT2 	 = #{ST_REGIST_AMT.std_amt2}
								,STD_AMT3 	 = #{ST_REGIST_AMT.std_amt3}
								,HOUSE_AMT 	 = #{ST_REGIST_AMT.house_amt}
								,FOOD_AMT 	 = #{ST_REGIST_AMT.food_amt}
								,REMARK 	 = #{ST_REGIST_AMT.remark}
								,UPT_DT      = sysdate()
								,UPT_ID      = #{ST_REGIST_AMT.spike_id}
		WHERE YEAR 		   = #{ST_REGIST_AMT.year}
			  AND SEMESTER = #{ST_REGIST_AMT.semester}
			  AND DEPT 	   = #{ST_REGIST_AMT.dept}
			  AND GRADE    = #{ST_REGIST_AMT.grade}
    </update>    
    
	<!-- 등록금입력 삭제 -->    
    <delete id="deleteRegistAmt" parameterType="com.spk.api.entity.udr.UDR01Entity">
        DELETE FROM ST_REGIST_AMT 
		WHERE YEAR 		   = #{ST_REGIST_AMT.year}
			  AND SEMESTER = #{ST_REGIST_AMT.semester}
			  AND DEPT 	   = #{ST_REGIST_AMT.dept}
			  AND GRADE    = #{ST_REGIST_AMT.grade}
    </delete>    
    
</mapper>
